# Memex - Quick Start Guide

Get Memex running in 5 minutes.

---

## Step 1: Setup (One Time)

```bash
# Make scripts executable
cd ~/code/cirrus/DevOps/Memex
chmod +x scripts/*.js scripts/*.sh

# Test it works
node scripts/memex-loader.js startup
```

Expected output:
```
‚úÖ Memex Ready (87ms)

üìä Context Loaded:
  ‚Ä¢ Global Standards: 5 (commit, PR, branching, code, security)
  ‚Ä¢ Current Project: DevOps
  ‚Ä¢ Available Projects: 2
  ‚Ä¢ Total Sessions: 0
```

---

## Step 2: Add to Your Projects

### Option A: Auto-detect (Recommended)

Memex auto-detects projects from git remote. No configuration needed!

```bash
cd ~/code/cirrus/CirrusTranslate
node ~/code/cirrus/DevOps/Memex/scripts/memex-loader.js startup

# Output:
# ‚úÖ Memex Ready (92ms)
# üéØ Current Project: CirrusTranslate
```

### Option B: Manual Config

Create `.claude/memex.json`:

```json
{
  "enabled": true,
  "memex_path": "~/code/cirrus/DevOps/Memex"
}
```

---

## Step 3: Try It Out

### Query Memex

```bash
# From any Cirrus project directory

# Quick answers (from index only - instant)
node ~/code/cirrus/DevOps/Memex/scripts/memex-loader.js quick "commit format"

# Output:
{
  "format": "<type>(<scope>): <description>",
  "example": "feat(auth): add OAuth2 login",
  "types": {
    "feat": "New feature",
    "fix": "Bug fix",
    ...
  }
}

# Real-world example - check PR requirements
node ~/code/cirrus/DevOps/Memex/scripts/memex-loader.js quick "pr"

# Output:
{
  "format": "<type>(<scope>): <description>",
  "checks": ["tests", "self-review", "lint", "typecheck", "build"],
  "approvals": 1
}
```

### Search Projects

```bash
node ~/code/cirrus/DevOps/Memex/scripts/memex-loader.js search auth

# Output:
[
  {
    "type": "topic",
    "topic": "auth",
    "projects": ["CirrusTranslate"],
    "session_count": 0
  }
]
```

### List Projects

```bash
node ~/code/cirrus/DevOps/Memex/scripts/memex-loader.js list

# Output:
[
  {
    "name": "CirrusTranslate",
    "description": "ASL translation platform...",
    "tech_stack": ["React", "TypeScript", "NestJS", ...],
    "session_count": 0
  },
  ...
]
```

---

## Step 4: Save Your First Session

```bash
cd ~/code/cirrus/CirrusTranslate

# Quick save
node ~/code/cirrus/DevOps/Memex/scripts/remember.js \
  "Set up Memex memory system" \
  --topics memex,setup,memory

# Output:
# ‚úÖ Session saved: ct-2025-11-29-memex
```

### Interactive Mode

```bash
node ~/code/cirrus/DevOps/Memex/scripts/remember.js --interactive

# Prompts:
# üìù Recuerda - Save session for CirrusTranslate
#
# Summary (1-2 sentences): Added OAuth2 authentication with Google
# Topics (comma-separated): auth,oauth,google
#
# Do you want to add detailed notes? (y/N): y
# Enter detailed notes (Ctrl+D when done):
# [Type your notes, then Ctrl+D]
#
# üíæ Saving session...
# ‚úÖ Session saved: ct-2025-11-29-oauth
```

---

## Step 5: Make It Easier (Optional)

### Add Aliases

Add to `~/.zshrc` or `~/.bashrc`:

```bash
# Memex shortcuts
export MEMEX_PATH="$HOME/code/cirrus/DevOps/Memex"
alias memex='node $MEMEX_PATH/scripts/memex-loader.js'
alias remember='node $MEMEX_PATH/scripts/remember.js'

# Reload
source ~/.zshrc
```

Now you can use:

```bash
memex startup
remember "Your work summary" --topics tag1,tag2
```

---

## Real-World Examples

### Example 1: After Fixing a Bug

```bash
cd ~/code/cirrus/CirrusTranslate

# You just fixed a Docker deployment bug
./scripts/remember "Fixed Prisma deployment failure - moved CLI to dependencies" \
  --topics hotfix,docker,prisma,deployment

# Output:
# ‚úÖ Session saved: ct-2025-12-03-hotfix
# ‚úì Changes committed to Memex
# ‚úì Pushing to remote (background)...
```

**Why this helps:** Next time someone encounters Prisma deployment issues, they can search Memex for "prisma deployment" and instantly find your solution.

### Example 2: After Implementing a Feature

```bash
cd ~/code/cirrus/CirrusTranslate

# You just added OAuth2 authentication
./scripts/remember --interactive

# Prompts you for:
# Summary: Implemented OAuth2 authentication with Google provider
# Topics: auth,oauth,google,security
# Detailed notes? y
#
# Then you can add:
# - Configured Google Cloud OAuth credentials
# - Added passport-google-oauth20 strategy
# - Implemented callback handling in auth controller
# - Added user profile sync from Google
# - Tested with 3 different Google accounts
#
# ‚úÖ Session saved with full implementation details
```

**Why this helps:** Future auth work can reference this implementation. Other team members can see exactly how OAuth was set up.

### Example 3: After Performance Optimization

```bash
# You just optimized Docker builds (10x faster!)
./scripts/remember "Optimized API Dockerfile with multi-stage build - 10x faster rebuilds" \
  --topics docker,performance,optimization,dockerfile

# Later, when working on another service:
memex search "docker optimization"

# Instantly finds your Docker optimization session
# Shows you the exact techniques you used
```

### Example 4: Zero-Effort Mode (Auto-Capture)

```bash
# After making changes, just run:
./scripts/remember

# It auto-detects everything:
# üîç Auto-detected changes:
#   Files: 3
#   Summary: "Updated bloom-filter.js, memex-loader.js +1 more"
#   Topics: bloom-filter, cache, project-detection
#
# ‚úÖ Session saved automatically!
```

### Example 5: Cross-Project Learning

```bash
# Working on a new project, need to see how you handled auth before
cd ~/code/cirrus/NewProject

memex search "authentication"

# Finds all auth implementations across ALL projects:
# - CirrusTranslate: OAuth2 with Google (12/02/25)
# - CirrusAuth: JWT refresh tokens (11/15/25)
# - OldProject: Basic auth migration (10/20/25)
#
# Load the most relevant one:
memex load CirrusTranslate
# Now you have the full OAuth2 implementation details
```

### Example 6: Before Creating a PR

```bash
# Check what our PR standards are
memex quick "pr"

# Output:
{
  "checks": ["tests", "self-review", "lint", "typecheck", "build"],
  "approvals": 1,
  "format": "<type>(<scope>): <description>"
}

# Make sure your PR meets all requirements before submitting
```

### Example 7: Daily Work Pattern

```bash
# Morning: See what you were working on
memex startup

# During work: Need commit format
memex quick "commit"

# After work: Save what you did
remember "Implemented rate limiting for API endpoints" \
  --topics api,rate-limiting,redis,performance

# Result: Perfect memory of all your work, zero effort
```

---

## Common Patterns

### Pattern 1: Bug Fix Workflow
```bash
memex startup
memex quick "commit format"
memex search auth
memex list

remember "Implemented feature X" --topics feature,x
remember --interactive
```

---

## How Claude Uses It

When you start Claude in any Cirrus project:

```
1. [10ms] Claude detects project from git remote
2. [50ms] Loads Memex index.json (5KB)
3. [40ms] Loads project metadata (2KB)
4. [Ready] Claude has full context

Total: 87ms, 7KB loaded

Now Claude knows:
‚úì All global standards (commit, PR, branching, code)
‚úì Current project (tech stack, architecture, conventions)
‚úì All available projects
‚úì All session summaries

Most questions answered from index alone - no file loading needed!
```

---

## Example Workflows

### Workflow 1: Start Working on CirrusTranslate

```bash
cd ~/code/cirrus/CirrusTranslate
claude

# Claude auto-loads Memex
# You can now ask:
# - "What's our commit format?"
# - "What environments do we have?"
# - "What's our PR process?"
# All answered instantly from index
```

### Workflow 2: Learn from Another Project

```bash
cd ~/code/cirrus/NewProject

# Ask Claude:
"How did we implement authentication in CirrusAuth?"

# Claude:
# 1. Checks index ‚Üí CirrusAuth has 'auth' topic
# 2. Loads CirrusAuth sessions-index.json
# 3. Finds OAuth2 session
# 4. Loads that specific session if needed
# 5. Answers with context from CirrusAuth
```

### Workflow 3: Save Session After Work

```bash
# After working on a feature
remember --interactive

# Summary: Implemented rate limiting for API endpoints
# Topics: api,rate-limiting,redis,performance
# Detailed notes: [describe implementation]

# ‚úÖ Saved to Memex
# ‚úÖ Auto-committed to git
# ‚úÖ Available to all projects now
```

---

## Common Patterns

### Quick Checks

```bash
# Check commit format
memex quick "commit"

# Check PR requirements
memex quick "pr"

# Check branching strategy
memex quick "branch"
```

### Cross-Project Search

```bash
# Find all sessions about authentication
memex search authentication

# Find projects using React
memex search react

# Find rate limiting implementations
memex search "rate limiting"
```

### Session Management

```bash
# Quick session save
remember "Did X" --topics x,y,z

# Detailed session save
remember --interactive

# View saved sessions
cat ~/code/cirrus/DevOps/Memex/summaries/projects/CirrusTranslate/sessions-index.json | jq '.sessions[0]'
```

---

## Verification

### Check It's Working

```bash
# 1. Memex loads successfully
memex startup
# Should show: ‚úÖ Memex Ready

# 2. Project detection works
cd ~/code/cirrus/CirrusTranslate
memex startup
# Should show: Current Project: CirrusTranslate

# 3. Quick queries work
memex quick "commit"
# Should return commit format

# 4. Session saving works
remember "Test session" --topics test
# Should create session file
```

### Check Files Created

```bash
tree ~/code/cirrus/DevOps/Memex/

# Should see:
# ‚îú‚îÄ‚îÄ index.json ‚úì
# ‚îú‚îÄ‚îÄ metadata/projects/CirrusTranslate.json ‚úì
# ‚îú‚îÄ‚îÄ summaries/projects/CirrusTranslate/sessions-index.json ‚úì
# ‚îî‚îÄ‚îÄ scripts/memex-loader.js ‚úì
```

---

## Performance Check

```bash
# Time the startup
time memex startup

# Should be:
# real    0m0.087s  (<100ms)
```

If slower than 200ms, check:
- Is index.json small enough? (<10KB)
- Are you loading content unnecessarily?
- Is git slow? (git pull in background)

---

## Troubleshooting

### "Could not detect project"

**Problem:** Memex can't detect which project you're in

**Solution:**
1. Make sure you're in a git repository: `git remote -v`
2. Or add `.claude/memex.json` with project name
3. Or use directory name matching project in index.json

### "Memex index not found"

**Problem:** Can't find index.json

**Solution:**
```bash
# Check path
ls ~/code/cirrus/DevOps/Memex/index.json

# Set correct path
export MEMEX_PATH="/correct/path/to/Memex"
```

### "Session not saving"

**Problem:** remember fails to save

**Solution:**
1. Check you're in a recognized project
2. Check Memex path is correct
3. Check git is configured: `git config user.name`

---

## Next Steps

1. ‚úÖ **You're ready!** Memex is working
2. üìù **Start saving sessions** - Use `remember` after each work session
3. üåç **Add global standards** - Extract from CirrusTranslate
4. üéØ **Add more projects** - Set up CirrusAuth, etc.
5. üîç **Optional: Embeddings** - Add semantic search

---

## Quick Reference Card

```bash
# Startup
memex startup                              # Load full context
memex quick "commit"                       # Quick answer
memex search <query>                       # Search projects
memex list                                 # List all projects

# Save sessions
remember "Summary" --topics tag1,tag2,tag3     # Quick save
remember --interactive                          # Interactive mode

# View data
cat $MEMEX_PATH/index.json | jq           # View index
cat $MEMEX_PATH/summaries/projects/CirrusTranslate/sessions-index.json | jq '.sessions[0]'  # View latest session
```

---

**You're all set! Memex is ready to remember everything.** üß†‚ú®
